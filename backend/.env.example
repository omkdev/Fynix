# Fynix Backend - Environment template
# Copy to .env and fill in values

# Server
NODE_ENV=development
PORT=3000

# Database (Supabase)
# Use Supabase pooler URL for runtime (typically port 6543)
DATABASE_URL="postgresql://postgres.[PROJECT-REF]:[PASSWORD]@aws-0-[REGION].pooler.supabase.com:6543/postgres?pgbouncer=true&connection_limit=1"
# Use direct DB URL for Prisma migrations (typically port 5432)
DIRECT_URL="postgresql://postgres:[PASSWORD]@db.[PROJECT-REF].supabase.co:5432/postgres"

# JWT (generate secure secrets in production)
# Use different random secrets (min 32 chars each)
JWT_ACCESS_SECRET=your-access-secret-min-32-chars
JWT_REFRESH_SECRET=your-refresh-secret-min-32-chars
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d
FRONTEND_URL=http://localhost:3001
# Comma-separated trusted frontend origins for CORS
# Must include FRONTEND_URL in production
CORS_ORIGIN=http://localhost:3001

# OAuth (optional)
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=http://localhost:3000/auth/oauth/google/callback
GITHUB_CLIENT_ID=
GITHUB_REDIRECT_URI=

# Resend (magic link emails)
RESEND_API_KEY=re_...
RESEND_FROM_EMAIL=Fynix <onboarding@resend.dev>

# SMTP (contact form emails via nodemailer)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-smtp-user@example.com
SMTP_PASS=your-smtp-password
CONTACT_FROM_EMAIL=Fynix Contact <no-reply@fynix.app>
CONTACT_RECEIVER_EMAIL=support@fynix.app
CONTACT_INCLUDE_REQUEST_METADATA_IN_EMAIL=false
CONTACT_RATE_LIMIT_WINDOW_MS=600000
CONTACT_RATE_LIMIT_MAX_REQUESTS=5
# Auth endpoint rate limit
AUTH_RATE_LIMIT_WINDOW_MS=900000
AUTH_RATE_LIMIT_MAX_REQUESTS=20
# Request body size limits
JSON_BODY_LIMIT=100kb
URLENCODED_BODY_LIMIT=100kb

# Redis (Upstash or local)
REDIS_URL=redis://localhost:6379

# OpenAI (for AI categorization)
OPENAI_API_KEY=sk-...
OPENAI_MODEL=gpt-4o-mini
CATEGORIZATION_MODE=rules_plus_openai
MERCHANT_MATCH_MIN_SCORE=0.72
LOCAL_CATEGORIZER_URL=

# Telegram Bot (Phase 8)
TELEGRAM_BOT_TOKEN=

# Admin operations (blocking/unblocking users)
ADMIN_API_KEY=replace-with-strong-random-admin-key-min-24-chars
